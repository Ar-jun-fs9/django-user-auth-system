<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>

    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="../static/style.css" />
  </head>

  <body>
    <div class="login-card">
      <h2>LOGIN</h2>

      <form method="POST">
        {% csrf_token %}
        <!-- Username -->
        <div class="mb-3">
          <label class="form-label">Username</label>
          <input
            id="user"
            type="text"
            class="form-control"
            placeholder="Enter username"
            name="username"
            required
          />
        </div>

        <!-- Password + Eye Icon -->
        <div class="mb-3">
          <label class="form-label">Password</label>
          <div
            class="d-flex align-items-center"
            style="border: 1px solid #00eaff88; border-radius: 5px"
          >
            <input
              id="pass"
              type="password"
              class="form-control border-0"
              placeholder="Enter password"
              name="password"
              required
            />
            <span class="eye-icon" onclick="togglePassword()">
              <svg viewBox="0 0 24 24">
                <path
                  d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"
                />
              </svg>
            </span>
          </div>
        </div>

        <!-- Remember me -->
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="remember" />
          <label for="remember" class="form-check-label">Remember me</label>
        </div>

        <!-- Login Button -->
        <button class="btn btn-neon w-100">LOGIN</button>

        <!-- Forgot Password -->
        <a href="#" class="forgot-link">Forgot Password?</a>
        <div class="err-mesg">{{ error }}</div>
      </form>
    </div>

    <script>
      function togglePassword() {
        let pass = document.getElementById("pass");
        pass.type = pass.type === "password" ? "text" : "password";
      }
      window.onload = function () {
        const errMsg = document.querySelector(".err-mesg");
        if (errMsg && errMsg.textContent.trim() !== "") {
          setTimeout(() => {
            errMsg.style.display = "none";
          }, 2000); // 2000 milliseconds = 2 seconds
        }
      };
    </script>
  </body>
</html>
